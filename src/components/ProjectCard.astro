---
export interface Props {
  title: string;
  description: string;
  tags?: string[];
  href?: string;
  repo?: string;
  private?: boolean;
  titleEs?: string;
  descriptionEs?: string;
}
const { title, description, tags = [], href, repo, private: isPrivateFlag, titleEs, descriptionEs } = Astro.props as Props;
const isPrivate = !!isPrivateFlag || !repo;

function isExternal(url?: string) {
  if (!url) return false;
  return /^https?:\/\//i.test(url);
}
---

<article class="rounded-lg border border-neutral-400 dark:border-neutral-800 bg-white/50 dark:bg-neutral-900/50 p-4 shadow-sm backdrop-blur transition-colors hover:bg-white/80 dark:hover:bg-neutral-900/70">
  <h3 class="text-lg font-semibold text-neutral-900 dark:text-white flex items-center gap-2">
    <span data-i18n-content-en={title} data-i18n-content-es={titleEs || title}>{title}</span>
    {isPrivate && (
      <span class="inline-flex items-center gap-1 rounded-md border border-neutral-300 dark:border-neutral-800 px-1.5 py-0.5 text-[10px] uppercase tracking-wide text-neutral-600 dark:text-neutral-300">
        ðŸ”’ Private
      </span>
    )}
  </h3>
  <p class="mt-1 text-sm text-neutral-600 dark:text-neutral-300 text-justify" data-i18n-content-en={description} data-i18n-content-es={descriptionEs || description}>{description}</p>
  {tags.length > 0 && (
    <ul class="mt-2 flex flex-wrap gap-2">
      {tags.map((t) => (
        <li class="rounded-md border border-neutral-300 dark:border-neutral-800 px-2 py-0.5 text-xs text-neutral-700 dark:text-neutral-300">{t}</li>
      ))}
    </ul>
  )}
  <div class="mt-3 flex gap-2">
    {href && (
      <a href={href} target={isExternal(href) ? "_blank" : undefined} rel={isExternal(href) ? "noopener noreferrer" : undefined} class="inline-flex items-center rounded-md bg-red-600 px-3 py-1 text-sm text-white hover:bg-red-500 dark:hover:bg-red-500/90"><span data-i18n-content-en="Visit" data-i18n-content-es="Visitar">Visit</span></a>
    )}
    {repo && !isPrivate && (
      <a href={repo} target={isExternal(repo) ? "_blank" : undefined} rel={isExternal(repo) ? "noopener noreferrer" : undefined} class="inline-flex items-center rounded-md border border-red-600 px-3 py-1 text-sm text-red-600 hover:bg-red-600/10 dark:border-red-500 dark:text-red-400"><span data-i18n-content-en="Code" data-i18n-content-es="CÃ³digo">Code</span></a>
    )}
  </div>
</article> 